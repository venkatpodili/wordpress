function showErrorMessage(e,o,m){var r=$mo(o).parent().parent().parent().attr("wdid");$mo("#form"+e+" #wd_required_"+r).remove(),$mo("#form"+e+" div[wdid='"+r+"'] .wdform-label-section:first .wdform-label").addClass("error_label"),$mo("#form"+e+" div[wdid='"+r+"'] .wdform-element-section:first").parent().parent().append("<div id='wd_required_"+r+"' class='fm-not-filled'>"+m+"</div>"),scroll_on_element(e)}jQuery(document).ready(function(){if($mo=jQuery,0!=$mo(".fm-form").length){var e=$mo(".fm-form").attr("id").replace("form","");if(e in mofmvar.formDetails){var o,m=mofmvar.formDetails[e].verifyKey,r=mofmvar.formDetails[e].emailkey,s=mofmvar.formDetails[e].phonekey,t=mofmvar.formDetails[e].email_show?r:s,a="<div style='display:table;text-align:center;'><img src='"+mofmvar.imgURL+"'></div>",i='<div class="wdform-element-section wd-flex  wd-flex-row wd-width-100"><div id="mo_message" hidden="" style="width:100%; background-color: #f7f6f7;padding: 1em 2em 1em 3.5em; text-align: center;"></div>',n='<div class="wdform-element-section wd-flex  wd-flex-row wd-width-100"><input class="button-submit" id="mo_getotp_button" style="width:100%;margin: 0 !important;" type="button" value="'+mofmvar.buttontext+'" ></input></div>'+i;$mo(n).insertAfter($mo(t).parent()),$mo("#form"+e).submit(function(r){$mo(".button-submit").prop("disabled",!1),o||(r.preventDefault(),$mo.ajax({url:mofmvar.siteURL+"/?option=miniorange-fm-verify-code",type:"POST",data:{otp_token:$mo(m).val(),sub_field:$mo(t).val()},crossDomain:!0,dataType:"json",success:function(r){"success"==r.result?(o=!0,$mo("#wd_required_"+m).remove(),fm_submit_form(e)):showErrorMessage(e,m,r.message)},error:function(o){showErrorMessage(e,m,o.message)}}))}),$mo("#mo_getotp_button").click(function(e){var e=$mo(t).val();$mo("#mo_message").empty(),$mo("#mo_message").append(a),$mo("#mo_message").show(),$mo.ajax({url:mofmvar.siteURL+"/?option=miniorange-fm-ajax-verify",type:"POST",data:{user_email:e,user_phone:e},crossDomain:!0,dataType:"json",success:function(e){"success"==e.result?($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid green")):($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid red"))},error:function(e){}})})}}});